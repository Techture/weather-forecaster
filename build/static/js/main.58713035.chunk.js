(this["webpackJsonpweather-forecaster"]=this["webpackJsonpweather-forecaster"]||[]).push([[0],{25:function(e,a,t){e.exports=t(58)},30:function(e,a,t){},58:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(22),l=t.n(c),o=(t(30),t(6)),i=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",{className:"header-title"},"Weather Forecaster ",r.a.createElement("i",{className:"fas"},"\uf6c4")))},s=t(5),m=t.n(s),u=t(7),p=["ae9496e6db273563f4d6d617dc6f1322"],h=t(8),d=t.n(h),E=function(){var e=Object(u.a)(m.a.mark((function e(a,t,n){var r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()("".concat("https://api.openweathermap.org/","/data/2.5/onecall?lat=").concat(a,"&lon=").concat(t,"&appid=").concat(p,"&units=imperial"));case 3:r=e.sent,c=r.data,n(c),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error: Fetch Weather >>",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a,t,n){return e.apply(this,arguments)}}(),f=t(11),w=function(){return r.a.createElement("div",{className:"tagline"},r.a.createElement("p",null,"Enter a city to view weather"))},y=function(){var e=Object(u.a)(m.a.mark((function e(a,t){var n,r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()("".concat("https://api.openweathermap.org/","geo/1.0/direct?q=").concat(a,"&limit=1&appid=").concat(p));case 3:n=e.sent,r=n.data,c={lat:r[0].lat,lon:r[0].lon,name:r[0].name},console.log("new user location >>",c),t(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error: Updating City Name >> ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(a,t){return e.apply(this,arguments)}}(),v=t(24),N=t(60),g=t(61),b=function(e){var a=e.onSearch,t=e.userLocation,c=e.setUserLocation;Object(n.useEffect)((function(){var e=localStorage.getItem("user location");e&&c(JSON.parse(e))}),[]),Object(n.useEffect)((function(){localStorage.setItem("user location",JSON.stringify(t))}));return r.a.createElement("div",{className:"weather-search"},r.a.createElement(w,null),r.a.createElement(N.a,{className:"weather-search-form weather-search-input",placeholder:"Enter a city",name:t.name,onChange:function(e){return c(Object(f.a)(Object(f.a)({},t),{},{name:e.target.value}))},value:t.name||"",onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),y(t.name,c),a(t.lat,t.lon),c(t))}}),r.a.createElement("div",{className:"weather-search-submit"},r.a.createElement(g.a,{className:"weather-search-button",onClick:function(e){e.preventDefault(),a(t.lat,t.lon),y(c)}},r.a.createElement(v.a,null)," ")))},k=function(){var e=new Date;return r.a.createElement("div",{className:"date-time"},"As of ","".concat(e.toLocaleDateString()," - ").concat(e.toLocaleTimeString()))},x=function(e){var a=e.city,t=e.temp,n=e.feels_like,c=e.conditions,l=e.icon;return r.a.createElement("div",{className:"current-weather-data"},r.a.createElement("span",{className:"current-weather-tagline"},r.a.createElement("p",{className:"current-weather-data-city"},"Current Forecast | ",a)),r.a.createElement(k,null),r.a.createElement("div",{className:"weather-data-box"},r.a.createElement("span",{className:"weather-data-property"},r.a.createElement("p",{className:"weather-data-title"},"Temp"),r.a.createElement("p",{className:"current-weather-data-value"},t,"\xb0")),r.a.createElement("span",{className:"weather-data-property"},r.a.createElement("p",{className:"weather-data-title"},"Feels Like"),r.a.createElement("p",{className:"current-weather-data-value"},n,"\xb0")),r.a.createElement("span",{className:"weather-data-property"},r.a.createElement("p",{className:"weather-data-title"},"Conditions"),r.a.createElement("p",{className:"current-weather-data-value"},c)),r.a.createElement("img",{src:"https://openweathermap.org/img/wn/".concat(l,"@2x.png"),alt:""})))},O=function(e){var a=e.currentWeather,t=e.city,n=a.temp,c=a.weather,l=a.feels_like,o=c[0].main,i=c[0].icon,s=Math.round(n),m=Math.round(l);return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(x,{city:t,temp:s,feels_like:m,conditions:o,icon:i}):r.a.createElement("h2",null,"Sorry city data not available."))},j=t(23),S=t.n(j),D=function(e,a,t){return S.a.tz(1e3*e,a).format(t)},W=function(e){var a=e.children,t=e.title,c=e.isExpand,l=void 0!==c&&c,i=Object(n.useState)(l),s=Object(o.a)(i,2),m=s[0],u=s[1];return r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"title-box",onClick:function(){return u((function(e){return!e}))}},r.a.createElement("span",{className:"title"},t),r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fa fa-play-circle".concat(m?"":" down")})),r.a.createElement("div",{className:"clearfix"})),m&&r.a.createElement("div",{className:"content"},a))},C=function(e){var a=e.dailyWeather,t=e.timezone,n=e.city,c=function(e){return Math.round(e)};return r.a.createElement("div",{className:"daily-weather-data"},r.a.createElement("p",{className:"daily-weather-tagline"},"8 Day Forecast |",r.a.createElement("span",{className:"daily-weather-data-city"}," ",n)),r.a.createElement(W,{title:"Click To View >>",isExpand:!1},r.a.createElement("div",{className:"daily-weather-data-box"},a&&a.length>0&&a.map((function(e,a){return r.a.createElement("span",{className:"daily-weather-data-property",key:a},r.a.createElement("p",{className:"weather-data-title"},"Date | Time | Temp | High | Low | Conditions"),r.a.createElement("p",{className:"weather-data-value"},(l=e.dt,D(l,t,"MM/DD"))," | ",(n=e.dt,D(n,t,"hA"))," |"," ",c(e.temp.day),"\xb0 | ",c(e.temp.max),"\xb0 | ",c(e.temp.min),"\xb0 | ",e.weather[0].main,r.a.createElement("img",{className:"daily-weather-data-icon",src:"https://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png"),alt:""})));var n,l})))))},F=function(e){var a=e.dailyWeather,t=e.timezone,n=e.city;return r.a.createElement(C,{dailyWeather:a,timezone:t,city:n})},L=function(e){var a=e.hourlyWeather,t=e.timezone,n=e.city,c=function(e){return Math.round(e)};return r.a.createElement("div",{className:"hourly-weather-data"},r.a.createElement("p",{className:"hourly-weather-tagline"},"48 Hour Forecast |",r.a.createElement("span",{className:"hourly-weather-data-city"}," ",n)),r.a.createElement(W,{title:"Click To View >>",isExpand:!1},r.a.createElement("div",{className:"hourly-weather-data-box"},a.map((function(e,a){return r.a.createElement("span",{className:"hourly-weather-data-property",key:a},r.a.createElement("p",{className:"weather-data-title"},"Date | Time | Temp | Feels Like | Conditions"),r.a.createElement("p",{className:"weather-data-value"},(l=e.dt,D(l,t,"MM/DD"))," | ",(n=e.dt,D(n,t,"hA"))," |"," ",c(e.temp),"\xb0 | ",c(e.feels_like),"\xb0 | ",e.weather[0].main,r.a.createElement("img",{className:"daily-weather-data-icon",src:"https://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png"),alt:""})));var n,l})))))},z=function(e){var a=e.hourlyWeather,t=e.timezone,n=e.city;return r.a.createElement(L,{hourlyWeather:a,timezone:t,city:n})},M=function(e){var a=e.data,t=e.city;return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{currentWeather:a.current,city:t}),r.a.createElement(F,{dailyWeather:a.daily,city:t}),r.a.createElement(z,{hourlyWeather:a.hourly,city:t})))},T=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("p",null,r.a.createElement("a",{href:"https://openweathermap.org/api/one-call-api",target:"_blank",rel:"noopener noreferrer"},"powered by openweather.org")))},J=function(){var e=Object(n.useState)({zip:null,name:"",lat:null,lon:null}),a=Object(o.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(null),s=Object(o.a)(l,2),m=s[0],u=s[1],p=Object(n.useState)(!1),h=Object(o.a)(p,2),d=h[0],f=h[1];return Object(n.useEffect)((function(){E(t.lat,t.lon,u)}),[t]),Object(n.useEffect)((function(){localStorage.setItem("geolocation loaded",JSON.stringify(d))})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main"},r.a.createElement(i,null),r.a.createElement(b,{onSearch:function(e,a,t){return E(e,a,u)},data:m,userLocation:t,setUserLocation:c,geolocationLoaded:d,setGeolocationLoaded:f}),m&&r.a.createElement(M,{data:m,city:t.name})),r.a.createElement(T,null))},_=function(){return r.a.createElement(J,null)};l.a.render(r.a.createElement(_,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.58713035.chunk.js.map